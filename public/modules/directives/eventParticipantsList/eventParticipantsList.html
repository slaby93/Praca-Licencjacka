<div id="event-participants-list">
    <div class="user-list-intro">Uczestnicy wydarzenia:</div>
    <comment-modal></comment-modal>
    <md-content layout-padding>
        <md-grid-list
                md-cols-gt-md="8" md-cols-gt-lg="14" md-cols-gt-xl="20" md-cols-md="6" md-cols-sm="4" md-cols-xs="2"
                md-row-height-gt-md="100px" md-row-height="100px"
                md-gutter-gt-md="20px" md-gutter-md="20px" md-gutter="20px">
            <md-grid-tile
                    ng-repeat="participant in eventParticipantsListCtrl.participants"
                    md-colspan-gt-sm="1"
                    md-rowspan-gt-sm="1">
                <md-content class="transparent-background tile-content">
                    <md-button aria-label="tooltipButton" flex="100"  flex-gt-md="auto" class="transparent-background tile-button" ng-click="eventParticipantsListCtrl.showToolTip(participant);">
                        <div layout="row">
                            <div flex="33" class="comment-button-container">
                                <md-button aria-label="comment-button" class="comment-button" ng-click="eventParticipantsListCtrl.showCommentsModal(participant)"
                                           ng-if="!eventParticipantsListCtrl.eventInfo.isActive && eventParticipantsListCtrl.isOwnPage() && !participant.hasBeenCommentedOn">
                                    <md-icon md-svg-src="resources/comment.svg" class="svg-submissive comment-icon"></md-icon>
                                </md-button>
                            </div>
                            <img alt="User Image" ng-src="gallery/{{participant._id}}/avatar.jpg" err-SRC="gallery/default.jpg" class="avatar"/>
                            <div flex="33"></div>
                        </div>

                        <div class="no-text-transformation user-info">{{participant.login}}</div>
                    </md-button>
                    <div class="close-ribbon" ng-if="eventParticipantsListCtrl.isOwnPage()">
                        <a ng-click="eventParticipantsListCtrl.deleteUser(participant._id)">&times;</a>
                    </div>
                    <md-tooltip id="user-tooltip" click-outside="eventParticipantsListCtrl.closeToolTip(participant)" outside-if-not="user-tooltip" class="user-tooltip" md-visible="participant.wasClicked" ng-if="participant.wasClicked" md-direction="top">
                        <div ng-style="{'background-image':'url(gallery/' + participant._id + '/userImage.jpg)'}" class="imageHolder user-image">
                            <md-button class="close-button" ng-click="eventParticipantsListCtrl.closeToolTip(participant)">
                                <div class="close-icon">&times;</div>
                            </md-button>
                        </div>

                        <div layout="row" layout-align="end" class="profileImgHolder">
                            <img class="profileImg" ng-src="gallery/{{participant._id}}/avatar.jpg" err-SRC="gallery/default.jpg">
                        </div>
                        <div class="name-container">
                            {{participant.settings.name}} {{participant.settings.surname}} ({{participant.login}})
                        </div>
                        <div class="deeper-content">
                            <div flex/>
                            <div layout="row" layout-align="bottom right">
                                <md-button class="no-text-transformation go-to-profile-button" ng-click="eventParticipantsListCtrl.goToUserPage(participant)" flex="60">Przejd≈∫ do profilu</md-button>
                                <inline flex="40">
                                    <md-icon ng-repeat="i in eventParticipantsListCtrl.getNumber(eventParticipantsListCtrl.number)" md-svg-src="resources/gold-star.svg" class="svg-submissive icon"></md-icon>
                                    <md-icon ng-repeat="i in eventParticipantsListCtrl.getNumber(5 - eventParticipantsListCtrl.number)" md-svg-src="resources/white-star.svg" class="svg-submissive icon"></md-icon>
                                    Weteran
                                    <div>Ocena: 87/89</div>
                                </inline>
                            </div>
                        </div>


                    </md-tooltip>
                </md-content>

            </md-grid-tile>
        </md-grid-list>
    </md-content>
</div>